{"ast":null,"code":"var _jsxFileName = \"/Users/lokeshsamudrala/UNCC/Dumps/SPL Dumps/SPL Term Project/Frontend/src/JoinedGames.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './JoinedGames.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction JoinedGames() {\n  _s();\n  const [teams, setTeams] = useState([]);\n  const [name, setName] = useState(localStorage.getItem('GameAppPersonName'));\n  const [ID, setID] = useState(localStorage.getItem('GameAppPersonID'));\n  const [UserJoinedteams, setUserJoinedteams] = useState([]);\n  const createGame = () => {\n    if (!isLoggedIn()) {\n      window.location.href = '/login';\n    } else {\n      window.location.href = '/create-game';\n    }\n  };\n  useEffect(() => {\n    if (!isLoggedIn()) {\n      window.location.href = '/login';\n    }\n  });\n  useEffect(() => {\n    fetch(`http://localhost:3500/getTeamsByUser?user_id=${localStorage.getItem('GameAppPersonID')}`).then(response => response.json()).then(data => setUserJoinedteams(data.teams)).then(data => console.log(data)).catch(error => console.error(error));\n  }, []);\n  useEffect(() => {\n    fetch('http://localhost:3500/teams').then(response => response.json()).then(data => setTeams(data)).then(data => console.log(data)).catch(error => console.error(error));\n  }, []);\n  function goToHome() {\n    window.location.href = '/homepage';\n  }\n  function isLoggedIn() {\n    if (localStorage.getItem('GameAppPersonID') != null) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  function joinGame(GameID) {\n    console.log(GameID);\n    if (!isLoggedIn()) {\n      window.location.href = '/login';\n    } else {\n      fetch('http://localhost:3500/players', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name,\n          \"team_id\": GameID,\n          \"user_id\": parseInt(ID)\n        })\n      }).then(window.location.href = '/join-game');\n    }\n    return undefined;\n  }\n  function leaveGame(GameID) {\n    console.log(GameID);\n    if (!isLoggedIn()) {\n      window.location.href = '/login';\n    } else {\n      fetch(`http://localhost:3500/leave-game`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"team_id\": GameID,\n          \"user_id\": parseInt(ID)\n        })\n      }).then(response => {\n        if (response.ok) {\n          window.location.href = '/joined-games';\n        } else {\n          throw new Error('Failed to leave game');\n        }\n      }).catch(error => console.error(error));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"home-button\",\n      onClick: goToHome,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Event Management System\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 64\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"teams-container\",\n      children: [teams.filter(team => UserJoinedteams != null && UserJoinedteams.includes(team.id)).map(team => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"team-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: team.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: team.gameTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: team.gameDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: team.gamePeriod\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            color: 'black',\n            backgroundColor: 'darkgrey'\n          },\n          onClick: () => leaveGame(team.id),\n          children: \"Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }, this)]\n      }, team.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"team-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Create New Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createGame,\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n_s(JoinedGames, \"RSZhv9hW+AJVlEqwL8UmqQSyQeA=\");\n_c = JoinedGames;\nexport default JoinedGames;\nvar _c;\n$RefreshReg$(_c, \"JoinedGames\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","JoinedGames","_s","teams","setTeams","name","setName","localStorage","getItem","ID","setID","UserJoinedteams","setUserJoinedteams","createGame","isLoggedIn","window","location","href","fetch","then","response","json","data","console","log","catch","error","goToHome","joinGame","GameID","method","headers","body","JSON","stringify","parseInt","undefined","leaveGame","ok","Error","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","filter","team","includes","id","map","gameTime","gameDate","gamePeriod","style","color","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/lokeshsamudrala/UNCC/Dumps/SPL Dumps/SPL Term Project/Frontend/src/JoinedGames.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './JoinedGames.css';\r\n\r\nfunction JoinedGames() {\r\n    const [teams, setTeams] = useState([]);\r\n    const [name, setName] = useState(localStorage.getItem('GameAppPersonName'));\r\n    const [ ID, setID] = useState(localStorage.getItem('GameAppPersonID'));\r\n    const [UserJoinedteams, setUserJoinedteams] = useState([]);\r\n\r\n\r\n    const createGame = () => {\r\n        if(!isLoggedIn()) {\r\n            window.location.href = '/login';\r\n        }\r\n        else{\r\n            window.location.href = '/create-game';\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!isLoggedIn()) {\r\n            window.location.href = '/login';\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:3500/getTeamsByUser?user_id=${localStorage.getItem('GameAppPersonID')}`)\r\n            .then(response => response.json())\r\n            .then(data => setUserJoinedteams(data.teams))\r\n            .then(data => console.log(data))\r\n            .catch(error => console.error(error));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:3500/teams')\r\n            .then(response => response.json())\r\n            .then(data => setTeams(data))\r\n            .then(data => console.log(data))\r\n            .catch(error => console.error(error));\r\n    }, []);\r\n\r\n    function goToHome() {\r\n        window.location.href = '/homepage';\r\n    }\r\n\r\n    function isLoggedIn() {\r\n        if(localStorage.getItem('GameAppPersonID') != null) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function joinGame(GameID) {\r\n        console.log(GameID);\r\n        if(!isLoggedIn()) {\r\n            window.location.href = '/login';\r\n        }\r\n        else{\r\n            fetch('http://localhost:3500/players', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({name, \"team_id\": GameID, \"user_id\": parseInt(ID)}),\r\n            }).then(window.location.href = '/join-game');\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    function leaveGame(GameID) {\r\n        console.log(GameID);\r\n        if (!isLoggedIn()) {\r\n            window.location.href = '/login';\r\n        }\r\n        else {\r\n            fetch(`http://localhost:3500/leave-game`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\"team_id\": GameID, \"user_id\": parseInt(ID)}),\r\n            })\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        window.location.href = '/joined-games';\r\n                    } else {\r\n                        throw new Error('Failed to leave game');\r\n                    }\r\n                })\r\n                .catch(error => console.error(error));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <button className='home-button' onClick={goToHome}><h1 className='title'>Event Management System</h1></button>\r\n\r\n            <div className=\"teams-container\">\r\n                {teams\r\n                    .filter(team => UserJoinedteams != null && UserJoinedteams.includes(team.id))\r\n                    .map(team => (\r\n                        <div className=\"team-card\" key={team.id}>\r\n                            <h2>{team.name}</h2>\r\n                            {/*<p>{team.id}</p>*/}\r\n                            <p>{team.gameTime}</p>\r\n                            <p>{team.gameDate}</p>\r\n                            <p>{team.gamePeriod}</p>\r\n                            <button style={{ color: 'black', backgroundColor: 'darkgrey' }} onClick={() => leaveGame(team.id)}>Leave</button>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div className=\"team-card\">\r\n                    <h3>Create New Event</h3>\r\n                    <button onClick={createGame}>Create</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JoinedGames;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}